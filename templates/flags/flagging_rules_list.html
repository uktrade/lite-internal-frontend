{% extends 'layouts/base.html' %}

{% block back_link %}{% endblock %}

{% block body %}
	<div class="lite-app-bar">
		<div class="lite-app-bar__content">
			<h2 class="govuk-heading-l">{% lcs 'FlaggingRules.TITLE' %}</h2>
			<p class="govuk-caption-m">
				{% lcs 'FlaggingRules.DESCRIPTION' %}
			</p>
		</div>
		<div class="lite-app-bar__controls">
			<a href="{% url 'flags:create_flagging_rules' %}" class="govuk-button" draggable="false" role="button" id="add-a-flag-button">
				{% lcs 'FlaggingRules.CREATE' %}
			</a>
		</div>
	</div>


	<table class="govuk-table">
		<thead class="govuk-table__head">
			<tr class="govuk-table__row">
				<th class="govuk-table__header" scope="col">{% lcs 'FlaggingRules.List.TEAM' %}</th>
				<th class="govuk-table__header" scope="col">{% lcs 'FlaggingRules.List.TYPE' %}</th>
				<th class="govuk-table__header" scope="col">{% lcs 'FlaggingRules.List.FLAG' %}</th>
				<th class="govuk-table__header" scope="col">{% lcs 'FlaggingRules.List.STATUS' %}</th>
				<th class="govuk-table__header" scope="col"></th>
			</tr>
		</thead>
		<tbody class="govuk-table__body">
			{% for flagging_rule in data.flagging_rules %}
				<tr class="govuk-table__row">
					<td class="govuk-table__cell">
						{{ flagging_rule.team }}
					</td>
					<td class="govuk-table__cell">
						{{ flagging_rule.type }}
					</td>
					<td class="govuk-table__cell">
						{{ flagging_rule.flag }}
					</td>
					<td class="govuk-table__cell">
						{{ flagging_rule.status }}
					</td>
					<td>
						{% if flag.status == 'Active' %}
							<a href="{% url 'flags:change_flagging_rule_status' flag.id 'deactivate' %}" role="button" draggable="false" class="govuk-link govuk-link--no-visited-state govuk-!-margin-right-2">{% lcs 'FlaggingRules.List.DEACTIVATE' %}</a>
						{% elif flag.status == 'Deactivated' %}
							<a href="{% url 'flags:change_flagging_rule_status' flag.id 'reactivate' %}" role="button" draggable="false" class="govuk-link govuk-link--no-visited-state govuk-!-margin-right-2">{% lcs 'FlaggingRules.List.REACTIVATE' %}</a>
						{% endif %}
					</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>

{% endblock %}
